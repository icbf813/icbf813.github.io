{"link_diff":"https://github.com/google/closure-compiler/compare/1e07047234938543ea364f68ec0f29686dbc12f1..b12d1d6489329c989b15635f6f7f06681b3f6582","language":"java","hunk":"diff --git a/src/com/google/javascript/jscomp/LightweightMessageFormatter.java b/src/com/google/javascript/jscomp/LightweightMessageFormatter.java\nindex f529b7d0624..420dbc07d70 100644\n--- a/src/com/google/javascript/jscomp/LightweightMessageFormatter.java\n+++ b/src/com/google/javascript/jscomp/LightweightMessageFormatter.java\n@@ -92,8 +92,10 @@ private String format(JSError error, boolean warning) {\n       int charno = error.getCharno();\n \n       // padding equal to the excerpt and arrow at the end\n+      // charno == sourceExpert.length() means something is missing\n+      // at the end of the line\n       if (excerpt.equals(LINE)\n-          && 0 <= charno && charno < sourceExcerpt.length()) {\n+          && 0 <= charno && charno <= sourceExcerpt.length()) {\n         for (int i = 0; i < charno; i++) {\n           char c = sourceExcerpt.charAt(i);\n           if (Character.isWhitespace(c)) {"}
